var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,r,a){return r&&t(e.prototype,r),a&&t(e,a),e}}();function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var textareaStyle={width:"400px",height:"400px"},buttonStyle={border:"none",color:"blue",cursor:"pointer"},displayStyle={float:"left",height:"700px"};function SSArray(t){for(var e=Array(t.arrayColors.length),r=(Math.floor(500/t.arrayColors.length)+1).toString()+"px",a=Math.floor(500/t.arrayColors.length).toString()+"px",n={lineHeight:r},o=0;o<t.arrayColors.length;o++){e[o]=Array(t.arrayColors.length);for(var l=0;l<t.arrayColors.length;l++)t.arrayColors[o]===t.arrayColors[l]?e[o][l]={display:"block",float:"left",background:t.arrayColors[l],width:a,height:a}:e[o][l]={display:"block",float:"left",background:"white",width:a,height:a}}return e.map(function(t,e){return React.createElement("div",{key:e,style:n}," ",t.map(function(t,e){return React.createElement("span",{key:e,style:t})}),React.createElement("br",null)," ")})}function ArrayBlock(t){var e=t.textArray.map(function(e,r){return"<br/>"==e?React.createElement("br",{key:r}):React.createElement(WordToColor,{key:e+r.toString(),id:r,text:e,color:t.color,changeArray:t.changeArray})});return React.createElement("div",null,e)}var AnnotationBlock=function(t){function e(t){_classCallCheck(this,e);var r=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.state={text:t.startText,textArray:t.textArray,arrayBlock:React.createElement(ArrayBlock,{textArray:["hi"],color:"green",changeArray:r.changeArray}),inProgressColor:"red",color:t.color,input:!0},r.arrayColors=["green"],r.handleChange=r.handleChange.bind(r),r.handleSubmit=r.handleSubmit.bind(r),r.handleColorSubmit=r.handleColorSubmit.bind(r),r.changeArray=r.changeArray.bind(r),r}return _inherits(e,React.Component),_createClass(e,[{key:"handleChange",value:function(t){this.setState(_defineProperty({},t.target.name,t.target.value))}},{key:"handleColorSubmit",value:function(t){var e=this;this.setState({color:this.state.inProgressColor},function(){console.log("updating"+e.state.color),e.setState({arrayBlock:React.createElement(ArrayBlock,{textArray:e.state.textArray,color:e.state.color,changeArray:e.changeArray})}),console.log("Should be done")}),t.preventDefault()}},{key:"concatArrays",value:function(t,e){return t.concat(e)}},{key:"handleSubmit",value:function(t){var e=this,r=this.state.text.replace(/\n/g," <br/> ").split(" ");this.setState({textArray:r},function(){e.arrayColors=e.state.textArray.map(function(t){return"white"}),e.setState({arrayBlock:React.createElement(ArrayBlock,{textArray:e.state.textArray,color:e.state.color,changeArray:e.changeArray})})}),t.preventDefault(),this.setState({input:!1})}},{key:"changeArray",value:function(t,e){this.arrayColors[t]=e,this.setState({color:this.state.color})}},{key:"render",value:function(){var t=this;return this.state.input?React.createElement("div",{style:displayStyle},'Copy and paste text into the box and click "submit".',React.createElement("form",{onSubmit:this.handleSubmit},React.createElement("textarea",{value:this.state.text,name:"text",onChange:this.handleChange,style:textareaStyle}),React.createElement("input",{type:"submit",value:"Submit"}))):React.createElement("div",null,React.createElement("button",{onClick:function(){t.setState({input:!0})}},"Return to input"),React.createElement("div",null,React.createElement("form",{onSubmit:this.handleColorSubmit},React.createElement("label",null,"Color:",React.createElement("input",{type:"text",name:"inProgressColor",value:this.state.inProgressColor,onChange:this.handleChange})),React.createElement("input",{type:"submit",value:"Submit"})),React.createElement(ArrayBlock,{textArray:this.state.textArray,color:this.state.color,changeArray:this.changeArray})),React.createElement("div",null,React.createElement(SSArray,{arrayColors:this.arrayColors})))}}]),e}(),WordToColor=function(t){function e(t){_classCallCheck(this,e);var r=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.state={color:t.color,buttonStyle:{border:"none",background:"white",color:"black",display:"inline-block"}},r.handleClick=r.handleClick.bind(r),r}return _inherits(e,React.Component),_createClass(e,[{key:"handleClick",value:function(t){var e=this;this.setState({color:this.props.color},function(){e.setState({buttonStyle:{border:"none",background:"white",color:e.state.color,display:"inline-block"}})}),this.props.changeArray(this.props.id,this.props.color),t.preventDefault()}},{key:"render",value:function(){return React.createElement("button",{onClick:this.handleClick,style:this.state.buttonStyle},this.props.text)}}]),e}();ReactDOM.render(React.createElement(AnnotationBlock,{startText:"",color:"red",textArray:[""]}),document.getElementById("root"));